<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ”® Oracle - MindFlow</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #2d1b4e 0%, #4a1942 100%);
      min-height: 100vh;
      padding: 20px;
      padding-bottom: 100px;
      overflow-x: hidden;
    }
    
    .container {
      max-width: 500px;
      margin: 0 auto;
    }
    
    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0); }
      50% { opacity: 1; transform: scale(1); }
    }
    
    @keyframes flipCard {
      0% { transform: rotateY(0deg); }
      50% { transform: rotateY(90deg); }
      100% { transform: rotateY(0deg); }
    }
    
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 20px rgba(186, 85, 211, 0.5); }
      50% { box-shadow: 0 0 40px rgba(186, 85, 211, 0.8); }
    }
    
    .fade-in {
      animation: fadeInUp 0.6s ease forwards;
    }
    
    /* Header */
    .header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 30px;
      animation: fadeInUp 0.5s ease;
    }
    
    .back-btn {
      background: rgba(255,255,255,0.1);
      border: none;
      color: white;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .back-btn:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.1);
    }
    
    .header-title {
      color: white;
      font-size: 28px;
      font-weight: bold;
    }
    
    .subtitle {
      color: rgba(255,255,255,0.8);
      font-size: 14px;
      margin-bottom: 30px;
      text-align: center;
      animation: fadeInUp 0.6s ease;
    }
    
    /* Oracle Section */
    .oracle-section {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border-radius: 25px;
      padding: 30px;
      margin-bottom: 25px;
      border: 1px solid rgba(255,255,255,0.1);
      animation: fadeInUp 0.7s ease;
      position: relative;
      overflow: hidden;
    }
    
    .oracle-section::before {
      content: 'âœ¨';
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 60px;
      opacity: 0.1;
      animation: float 3s infinite;
    }
    
    .section-title {
      font-size: 24px;
      color: white;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
    }
    
    .section-subtitle {
      text-align: center;
      color: rgba(255,255,255,0.7);
      font-size: 13px;
      margin-bottom: 25px;
    }
    
    /* Card */
    .card-container {
      perspective: 1000px;
      margin-bottom: 25px;
    }
    
    .oracle-card {
      width: 100%;
      aspect-ratio: 2/3;
      max-width: 280px;
      margin: 0 auto;
      background: linear-gradient(135deg, #BA55D3 0%, #9370DB 100%);
      border-radius: 20px;
      padding: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      border: 2px solid rgba(255,255,255,0.2);
      position: relative;
      overflow: hidden;
    }
    
    .oracle-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .oracle-card:hover::before {
      opacity: 1;
    }
    
    .oracle-card:hover {
      transform: translateY(-10px) scale(1.05);
      box-shadow: 0 30px 80px rgba(186, 85, 211, 0.6);
    }
    
    .oracle-card.flipping {
      animation: flipCard 0.8s ease;
    }
    
    .card-back {
      color: white;
    }
    
    .card-back .card-pattern {
      font-size: 80px;
      margin-bottom: 20px;
      opacity: 0.9;
    }
    
    .card-back .card-text {
      font-size: 18px;
      font-weight: 600;
      opacity: 0.9;
    }
    
    .card-front {
      display: none;
      color: white;
    }
    
    .card-front.revealed {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
    }
    
    .card-icon {
      font-size: 72px;
      margin-bottom: 20px;
      animation: float 3s infinite;
    }
    
    .card-title {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 10px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    
    .card-category {
      font-size: 12px;
      opacity: 0.8;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    /* Description */
    .card-description {
      background: white;
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 20px;
      display: none;
    }
    
    .card-description.revealed {
      display: block;
      animation: fadeInUp 0.6s ease;
    }
    
    .description-section {
      margin-bottom: 20px;
    }
    
    .description-section:last-child {
      margin-bottom: 0;
    }
    
    .description-label {
      font-size: 14px;
      font-weight: bold;
      color: #BA55D3;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .description-text {
      font-size: 15px;
      color: #333;
      line-height: 1.6;
    }
    
    /* Draw Button */
    .draw-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #BA55D3 0%, #9370DB 100%);
      border: none;
      border-radius: 15px;
      color: white;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 20px;
    }
    
    .draw-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(186, 85, 211, 0.5);
    }
    
    .draw-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    /* Message Section */
    .message-section {
      background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
      border-radius: 25px;
      padding: 35px;
      margin-bottom: 25px;
      animation: fadeInUp 0.8s ease;
      position: relative;
      overflow: hidden;
    }
    
    .message-section::before {
      content: 'ğŸ’œ';
      position: absolute;
      bottom: 20px;
      right: 20px;
      font-size: 80px;
      opacity: 0.15;
    }
    
    .message-icon {
      font-size: 64px;
      text-align: center;
      margin-bottom: 20px;
      animation: float 3s infinite;
    }
    
    .message-text {
      font-size: 20px;
      color: #333;
      text-align: center;
      line-height: 1.7;
      font-weight: 500;
      font-style: italic;
      margin-bottom: 25px;
    }
    
    .new-message-btn {
      width: 100%;
      padding: 15px;
      background: white;
      border: 2px solid #fcb69f;
      border-radius: 15px;
      color: #fcb69f;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .new-message-btn:hover {
      background: #fcb69f;
      color: white;
      transform: translateY(-3px);
    }
    
    /* History */
    .history-section {
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      border-radius: 25px;
      padding: 25px;
      border: 1px solid rgba(255,255,255,0.1);
      animation: fadeInUp 0.9s ease;
    }
    
    .history-title {
      font-size: 18px;
      color: white;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .history-item {
      background: rgba(255,255,255,0.08);
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 10px;
      color: white;
      transition: all 0.3s ease;
    }
    
    .history-item:hover {
      background: rgba(255,255,255,0.15);
      transform: translateX(5px);
    }
    
    .history-date {
      font-size: 12px;
      opacity: 0.7;
      margin-bottom: 5px;
    }
    
    .history-card-name {
      font-weight: bold;
      margin-bottom: 3px;
    }
    
    .no-history {
      text-align: center;
      padding: 20px;
      color: rgba(255,255,255,0.5);
      font-size: 14px;
    }
    
    /* Bottom Nav */
    .bottom-nav {
      position: fixed;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      border-radius: 25px;
      padding: 15px 25px;
      display: flex;
      gap: 35px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      z-index: 1000;
    }
    
    .nav-item {
      font-size: 26px;
      opacity: 0.4;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    .nav-item:hover {
      opacity: 0.7;
      transform: scale(1.2);
    }
    
    .nav-item.active {
      opacity: 1;
      transform: scale(1.15);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <button class="back-btn" onclick="window.location.href='index.html'">â†</button>
      <div class="header-title">ğŸ”® Oracle & Messages</div>
    </div>
    
    <div class="subtitle">
      ReÃ§ois guidance et soutien pour ton chemin de vie
    </div>
    
    <!-- Oracle Section -->
    <div class="oracle-section">
      <div class="section-title">ğŸ”® Oracle de Vie</div>
      <div class="section-subtitle">Tire une carte pour recevoir un message de guidance</div>
      
      <div class="card-container">
        <div class="oracle-card" id="oracleCard" onclick="oracle.flipCard()">
          <div class="card-back" id="cardBack">
            <div class="card-pattern">ğŸŒ™âœ¨ğŸ”®</div>
            <div class="card-text">Clique pour rÃ©vÃ©ler ta carte</div>
          </div>
          <div class="card-front" id="cardFront">
            <div class="card-icon" id="cardIcon">ğŸŒŸ</div>
            <div class="card-title" id="cardTitle">La Force IntÃ©rieure</div>
            <div class="card-category" id="cardCategory">DÃ©veloppement Personnel</div>
          </div>
        </div>
      </div>
      
      <div class="card-description" id="cardDescription">
        <div class="description-section">
          <div class="description-label">ğŸ’« Message</div>
          <div class="description-text" id="cardMessage">Message de la carte...</div>
        </div>
        <div class="description-section">
          <div class="description-label">ğŸŒˆ Guidance</div>
          <div class="description-text" id="cardGuidance">Guidance dÃ©taillÃ©e...</div>
        </div>
        <div class="description-section">
          <div class="description-label">ğŸ’­ RÃ©flexion</div>
          <div class="description-text" id="cardReflection">Question de rÃ©flexion...</div>
        </div>
      </div>
      
      <button class="draw-btn" id="drawBtn" onclick="oracle.drawCard()">
        âœ¨ Tirer une nouvelle carte
      </button>
    </div>
    
    <!-- Message Section -->
    <div class="message-section">
      <div class="section-title" style="color: #333;">ğŸ’Œ Message Personnel</div>
      <div class="section-subtitle" style="color: #666;">Un message rien que pour toi</div>
      
      <div class="message-icon" id="messageIcon">ğŸ’œ</div>
      <div class="message-text" id="messageText">
        Chargement de ton message...
      </div>
      
      <button class="new-message-btn" onclick="oracle.newMessage()">
        Nouveau message ğŸ’«
      </button>
    </div>
    
    <!-- History -->
    <div class="history-section">
      <div class="history-title">ğŸ“œ Historique des tirages</div>
      <div id="historyContainer">
        <div class="no-history">Aucun tirage pour le moment</div>
      </div>
    </div>
  </div>
  
  <!-- Bottom Nav -->
  <div class="bottom-nav">
    <a href="index.html" class="nav-item">ğŸ </a>
    <a href="mood.html" class="nav-item">ğŸ˜Š</a>
    <a href="journal.html" class="nav-item">ğŸ“</a>
    <a href="challenge.html" class="nav-item">ğŸ¯</a>
    <a href="profil.html" class="nav-item">ğŸ‘¤</a>
  </div>
  
  <script>
    const ORACLE_CARDS = [
      // DÃ©veloppement Personnel
      { icon: 'ğŸ’ª', title: 'La Force IntÃ©rieure', category: 'DÃ©veloppement Personnel', message: 'Tu possÃ¨des une force immense en toi. Elle a toujours Ã©tÃ© lÃ , mÃªme dans tes moments les plus sombres.', guidance: 'Aujourd\'hui, reconnais ta rÃ©silience. Chaque dÃ©fi que tu as surmontÃ© prouve ta force. Utilise cette Ã©nergie pour avancer avec confiance.', reflection: 'Quelles Ã©preuves as-tu dÃ©jÃ  surmontÃ©es qui prouvent ta force ?' },
      { icon: 'ğŸ¦‹', title: 'La Transformation', category: 'DÃ©veloppement Personnel', message: 'Le changement est en cours. Comme la chenille devient papillon, tu Ã©volues vers ta meilleure version.', guidance: 'Accueille cette pÃ©riode de transformation. Les changements peuvent Ãªtre inconfortables, mais ils sont nÃ©cessaires Ã  ta croissance.', reflection: 'Quelle partie de toi demande Ã  Ã©voluer ?' },
      { icon: 'ğŸŒ±', title: 'La Croissance', category: 'DÃ©veloppement Personnel', message: 'Comme une graine qui germe, tu grandis Ã  ton propre rythme. Sois patient(e) avec toi-mÃªme.', guidance: 'La croissance n\'est pas toujours visible immÃ©diatement. Continue de te nourrir de bonnes intentions et d\'actions positives.', reflection: 'Dans quel domaine as-tu grandi rÃ©cemment ?' },
      { icon: 'ğŸ­', title: 'L\'AuthenticitÃ©', category: 'DÃ©veloppement Personnel', message: 'Il est temps d\'enlever les masques et d\'Ãªtre pleinement toi-mÃªme. Ta vraie nature est magnifique.', guidance: 'Autorise-toi Ã  Ãªtre vulnÃ©rable et authentique. Les bonnes personnes t\'aimeront pour qui tu es vraiment.', reflection: 'OÃ¹ te sens-tu obligÃ©(e) de porter un masque ?' },
      
      // Relations & Amour
      { icon: 'ğŸ’•', title: 'L\'Amour Authentique', category: 'Relations', message: 'L\'amour vÃ©ritable commence par toi-mÃªme. Quand tu t\'aimes, tu attires l\'amour authentique.', guidance: 'Cultive l\'amour-propre. Traite-toi avec la mÃªme gentillesse que tu offrirais Ã  un Ãªtre cher.', reflection: 'Comment peux-tu mieux t\'aimer aujourd\'hui ?' },
      { icon: 'ğŸ¤', title: 'Les Connexions Profondes', category: 'Relations', message: 'Les vraies connexions nourrissent l\'Ã¢me. Entoure-toi de personnes qui te font grandir.', guidance: 'Investis dans les relations qui sont rÃ©ciproques et sincÃ¨res. Ã‰loigne-toi de celles qui t\'Ã©puisent.', reflection: 'Quelles relations mÃ©ritent plus de ton attention ?' },
      { icon: 'ğŸš§', title: 'Les Limites Saines', category: 'Relations', message: 'Poser des limites n\'est pas Ã©goÃ¯ste, c\'est essentiel Ã  ton bien-Ãªtre.', guidance: 'Apprends Ã  dire non sans culpabilitÃ©. Tes besoins sont aussi importants que ceux des autres.', reflection: 'OÃ¹ dois-tu poser une limite aujourd\'hui ?' },
      { icon: 'ğŸ’”', title: 'La GuÃ©rison Relationnelle', category: 'Relations', message: 'Certaines blessures prennent du temps Ã  guÃ©rir. Sois patient(e) avec ton cÅ“ur.', guidance: 'Permets-toi de ressentir et de guÃ©rir. La douleur fait partie du processus de transformation.', reflection: 'Quelle blessure demande Ã  Ãªtre guÃ©rie ?' },
      
      // CarriÃ¨re & Travail
      { icon: 'ğŸ¯', title: 'La ClartÃ© d\'Objectifs', category: 'CarriÃ¨re', message: 'Quand ton intention est claire, le chemin se rÃ©vÃ¨le. DÃ©finis ce que tu veux vraiment.', guidance: 'Prends le temps de clarifier tes objectifs professionnels. Ã‰cris-les, visualise-les, ressens-les.', reflection: 'Quelle est ta vision pour ta carriÃ¨re ?' },
      { icon: 'ğŸŒŸ', title: 'Nouvelle OpportunitÃ©', category: 'CarriÃ¨re', message: 'Une porte s\'ouvre. Sois attentif(ve) aux nouvelles possibilitÃ©s qui se prÃ©sentent.', guidance: 'Reste ouvert(e) aux opportunitÃ©s inattendues. Parfois, le meilleur arrive quand on s\'y attend le moins.', reflection: 'Quelle opportunitÃ© pourrais-tu explorer ?' },
      { icon: 'â³', title: 'La Patience Professionnelle', category: 'CarriÃ¨re', message: 'Tout vient Ã  point Ã  qui sait attendre. Ton moment viendra.', guidance: 'Continue de travailler avec diligence. Les rÃ©sultats ne sont pas toujours immÃ©diats, mais ils arrivent.', reflection: 'Que peux-tu faire maintenant pour prÃ©parer ton futur ?' },
      { icon: 'ğŸ”¥', title: 'La Passion au Travail', category: 'CarriÃ¨re', message: 'Quand tu fais ce que tu aimes, ce n\'est plus du travail. Reconnecte avec ta passion.', guidance: 'Identifie ce qui t\'anime vraiment. Comment peux-tu intÃ©grer plus de passion dans ton quotidien ?', reflection: 'Qu\'est-ce qui allume vraiment ton feu intÃ©rieur ?' },
      
      // Finances
      { icon: 'ğŸ’°', title: 'L\'Abondance', category: 'Finances', message: 'L\'abondance est un Ã©tat d\'esprit avant d\'Ãªtre une rÃ©alitÃ©. Tu mÃ©rites la prospÃ©ritÃ©.', guidance: 'Cultive une mentalitÃ© d\'abondance. Ce que tu crois possible devient accessible.', reflection: 'Quelles croyances limitantes as-tu sur l\'argent ?' },
      { icon: 'ğŸ’', title: 'La Sagesse FinanciÃ¨re', category: 'Finances', message: 'La vraie richesse n\'est pas seulement matÃ©rielle. Investis aussi dans ton bien-Ãªtre.', guidance: 'GÃ¨re tes ressources avec sagesse. Ã‰quilibre entre sÃ©curitÃ© et plaisir.', reflection: 'Comment peux-tu mieux gÃ©rer tes finances ?' },
      { icon: 'ğŸŒŠ', title: 'Le Flux d\'Abondance', category: 'Finances', message: 'L\'argent est une Ã©nergie qui circule. Donne et reÃ§ois avec gratitude.', guidance: 'Fais confiance au flux naturel. Ce qui part revient multipliÃ© quand c\'est donnÃ© avec cÅ“ur.', reflection: 'Bloques-tu le flux d\'abondance quelque part ?' },
      
      // SantÃ© & Bien-Ãªtre
      { icon: 'ğŸ¥', title: 'Ã‰coute ton Corps', category: 'SantÃ©', message: 'Ton corps te parle constamment. Il est temps de vraiment l\'Ã©couter.', guidance: 'Sois attentif(ve) aux signaux de ton corps. Repos, mouvement, nutrition - donne-lui ce dont il a besoin.', reflection: 'Qu\'est-ce que ton corps essaie de te dire ?' },
      { icon: 'âš¡', title: 'La VitalitÃ©', category: 'SantÃ©', message: 'L\'Ã©nergie est ta ressource la plus prÃ©cieuse. ProtÃ¨ge-la et nourris-la.', guidance: 'Identifie ce qui te donne de l\'Ã©nergie et ce qui t\'en prend. Fais des choix conscients.', reflection: 'Qu\'est-ce qui draine ton Ã©nergie actuellement ?' },
      { icon: 'ğŸ§˜', title: 'L\'Ã‰quilibre Corps-Esprit', category: 'SantÃ©', message: 'Le corps et l\'esprit sont interconnectÃ©s. Prends soin des deux.', guidance: 'IntÃ¨gre des pratiques qui harmonisent ton corps et ton esprit : yoga, mÃ©ditation, nature.', reflection: 'Es-tu plus dÃ©connectÃ©(e) de ton corps ou de ton esprit ?' },
      
      // SpiritualitÃ©
      { icon: 'âœ¨', title: 'L\'Ã‰veil', category: 'SpiritualitÃ©', message: 'Tu t\'Ã©veilles Ã  une nouvelle conscience. Accueille cette expansion.', guidance: 'Les moments de prise de conscience sont des cadeaux. Note-les, mÃ©dite dessus, intÃ¨gre-les.', reflection: 'Quelle nouvelle vÃ©ritÃ© Ã©merge en toi ?' },
      { icon: 'ğŸ”®', title: 'L\'Intuition', category: 'SpiritualitÃ©', message: 'Ta voix intÃ©rieure sait. Fais-lui confiance, mÃªme si la logique ne suit pas.', guidance: 'Pratique l\'Ã©coute de ton intuition. Elle se manifeste souvent comme un savoir calme et certain.', reflection: 'Qu\'est-ce que ton intuition te dit en ce moment ?' },
      { icon: 'ğŸ™', title: 'La Gratitude SacrÃ©e', category: 'SpiritualitÃ©', message: 'Dans la gratitude, tout devient sacrÃ©. CÃ©lÃ¨bre les miracles du quotidien.', guidance: 'Tiens un journal de gratitude. Remarque les petites merveilles qui parsÃ¨ment ta journÃ©e.', reflection: 'Pour quoi es-tu profondÃ©ment reconnaissant(e) ?' },
      { icon: 'ğŸŒŒ', title: 'La Connexion Universelle', category: 'SpiritualitÃ©', message: 'Tu fais partie d\'un tout plus grand. Tu n\'es jamais seul(e).', guidance: 'Ressens ta connexion Ã  l\'univers. Dans la nature, dans le silence, dans la mÃ©ditation.', reflection: 'Comment te sens-tu connectÃ©(e) Ã  quelque chose de plus grand ?' },
      
      // Famille
      { icon: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§', title: 'L\'Harmonie Familiale', category: 'Famille', message: 'La paix dans ta famille commence par la paix en toi.', guidance: 'Tu ne peux pas contrÃ´ler ta famille, mais tu peux choisir comment tu rÃ©agis et ce que tu permets.', reflection: 'Quelle dynamique familiale dois-tu accepter ou changer ?' },
      { icon: 'ğŸŒ³', title: 'Les Racines Ancestrales', category: 'Famille', message: 'Tu portes la force de tes ancÃªtres. Honore d\'oÃ¹ tu viens tout en crÃ©ant ton propre chemin.', guidance: 'Reconnais les patterns familiaux. Garde ce qui te sert, transforme ce qui te limite.', reflection: 'Quel hÃ©ritage familial veux-tu perpÃ©tuer ou transformer ?' },
      { icon: 'ğŸ’', title: 'L\'Amour Inconditionnel', category: 'Famille', message: 'Aimer ne signifie pas tout accepter. Tu peux aimer Ã  distance si nÃ©cessaire.', guidance: 'ProtÃ¨ge ta paix intÃ©rieure. L\'amour vÃ©ritable inclut aussi l\'amour de soi.', reflection: 'Comment Ã©quilibrer amour familial et protection de soi ?' },
      
      // Ã‰motions & GuÃ©rison
      { icon: 'ğŸŒˆ', title: 'AprÃ¨s la TempÃªte', category: 'GuÃ©rison', message: 'Les moments sombres passent toujours. L\'arc-en-ciel arrive aprÃ¨s la pluie.', guidance: 'Cette difficultÃ© est temporaire. Accroche-toi, la lumiÃ¨re revient toujours.', reflection: 'Quelles tempÃªtes as-tu dÃ©jÃ  traversÃ©es ?' },
      { icon: 'ğŸ•Šï¸', title: 'Le LÃ¢cher-prise', category: 'GuÃ©rison', message: 'Certaines choses doivent Ãªtre libÃ©rÃ©es pour que du nouveau puisse entrer.', guidance: 'Identifie ce que tu retiens par peur. LÃ¢cher prise n\'est pas abandonner, c\'est faire confiance.', reflection: 'Ã€ quoi es-tu prÃªt(e) Ã  renoncer ?' },
      { icon: 'ğŸ’§', title: 'Les Larmes GuÃ©rissent', category: 'GuÃ©rison', message: 'Pleurer n\'est pas une faiblesse, c\'est une libÃ©ration. Permets-toi de ressentir.', guidance: 'Tes Ã©motions mÃ©ritent d\'Ãªtre honorÃ©es. Pleure si tu en as besoin, c\'est thÃ©rapeutique.', reflection: 'Quelle Ã©motion retiens-tu qui demande Ã  Ãªtre libÃ©rÃ©e ?' },
      { icon: 'ğŸˆ', title: 'La LÃ©gÃ¨retÃ©', category: 'GuÃ©rison', message: 'Tout ne doit pas Ãªtre lourd et sÃ©rieux. Autorise-toi la lÃ©gÃ¨retÃ© et la joie.', guidance: 'Fais quelque chose juste pour le plaisir aujourd\'hui. Ris, joue, sois spontanÃ©(e).', reflection: 'Quand t\'es-tu senti(e) lÃ©ger(Ã¨re) pour la derniÃ¨re fois ?' },
      
      // Objectifs & Manifestation
      { icon: 'ğŸ¯', title: 'La PersÃ©vÃ©rance', category: 'Objectifs', message: 'Le succÃ¨s appartient Ã  ceux qui persistent. Continue, tu es plus proche que tu ne le penses.', guidance: 'Chaque petit pas compte. Ne te dÃ©courage pas si les rÃ©sultats ne sont pas immÃ©diats.', reflection: 'Quel objectif mÃ©rite ta persÃ©vÃ©rance ?' },
      { icon: 'ğŸŒ ', title: 'Manifeste tes RÃªves', category: 'Objectifs', message: 'Ce que tu visualises avec clartÃ© et Ã©motion se manifeste. RÃªve grand.', guidance: 'Ã‰cris tes rÃªves comme s\'ils Ã©taient dÃ©jÃ  rÃ©alisÃ©s. Ressens la joie de leur accomplissement.', reflection: 'Si tout Ã©tait possible, que manifesterais-tu ?' },
      { icon: 'ğŸ”‘', title: 'La ClÃ© du SuccÃ¨s', category: 'Objectifs', message: 'Le succÃ¨s n\'est pas une destination, c\'est un chemin. CÃ©lÃ¨bre chaque Ã©tape.', guidance: 'DÃ©finis le succÃ¨s selon TES propres termes, pas ceux des autres.', reflection: 'Qu\'est-ce que le succÃ¨s signifie vraiment pour toi ?' },
      
      // Sagesse & Acceptation
      { icon: 'ğŸ¦‰', title: 'La Sagesse IntÃ©rieure', category: 'Sagesse', message: 'Tu as toutes les rÃ©ponses en toi. Fais silence et Ã©coute.', guidance: 'Dans le calme, ta sagesse intÃ©rieure parle. MÃ©dite, Ã©cris, observe.', reflection: 'Quelle sagesse ton moi profond veut-il partager ?' },
      { icon: 'â˜¯ï¸', title: 'L\'Acceptation', category: 'Sagesse', message: 'Accepter ce qui est ne signifie pas abandonner. C\'est choisir la paix.', guidance: 'Distingue ce que tu peux changer de ce que tu dois accepter. Agis sur l\'un, fais la paix avec l\'autre.', reflection: 'Qu\'est-ce qui demande ton acceptation ?' },
      { icon: 'âš–ï¸', title: 'L\'Ã‰quilibre', category: 'Sagesse', message: 'La vie est un Ã©quilibre constant. Trouve ton centre au milieu du chaos.', guidance: 'Quand tout semble dÃ©sÃ©quilibrÃ©, reviens Ã  ton centre : ta respiration, ton corps, l\'instant prÃ©sent.', reflection: 'OÃ¹ dans ta vie l\'Ã©quilibre est-il nÃ©cessaire ?' },
      { icon: 'ğŸŒ…', title: 'Le Nouveau DÃ©part', category: 'Sagesse', message: 'Chaque jour est une page blanche. Tu peux recommencer Ã  tout moment.', guidance: 'Ne te laisse pas dÃ©finir par ton passÃ©. Aujourd\'hui, tu peux choisir diffÃ©remment.', reflection: 'Si tu pouvais recommencer quelque chose, ce serait quoi ?' }
    ];
    
    const PERSONAL_MESSAGES = [
      { icon: 'ğŸ’œ', text: 'Tu fais de ton mieux, et c\'est dÃ©jÃ  Ã©norme. Sois fier(Ã¨re) de toi.' },
      { icon: 'ğŸŒŸ', text: 'Tu es plus fort(e) que tu ne le penses. Regarde tout ce que tu as dÃ©jÃ  traversÃ©.' },
      { icon: 'âœ¨', text: 'Aujourd\'hui, choisis de te traiter avec la mÃªme gentillesse que tu offres aux autres.' },
      { icon: 'ğŸ’«', text: 'Tes Ã©motions sont valides. Tu as le droit de ressentir ce que tu ressens.' },
      { icon: 'ğŸŒˆ', text: 'AprÃ¨s la pluie vient toujours le beau temps. Accroche-toi, Ã§a va s\'amÃ©liorer.' },
      { icon: 'ğŸ¦‹', text: 'Le changement peut faire peur, mais c\'est dans la transformation que tu trouves ta vraie beautÃ©.' },
      { icon: 'ğŸŒº', text: 'Tu mÃ©rites l\'amour, le repos, et la paix. Ne laisse personne te faire croire le contraire.' },
      { icon: 'ğŸ”¥', text: 'Ta lumiÃ¨re ne peut pas Ãªtre Ã©teinte. MÃªme dans l\'obscuritÃ©, elle brille.' },
      { icon: 'ğŸ¯', text: 'Chaque petit pas compte. Tu avances, mÃªme si c\'est lentement.' },
      { icon: 'ğŸ’', text: 'Sois aussi patient(e) avec toi-mÃªme que tu le serais avec quelqu\'un que tu aimes.' },
      { icon: 'ğŸŒ±', text: 'Tu grandis, mÃªme quand tu ne le vois pas. La transformation est en cours.' },
      { icon: 'ğŸŒ™', text: 'Repose-toi. Tu n\'as pas Ã  Ãªtre productif(ve) tout le temps pour avoir de la valeur.' },
      { icon: 'ğŸ¨', text: 'Ta crÃ©ativitÃ©, ta sensibilitÃ©, tes Ã©motions - ce ne sont pas des faiblesses, ce sont des forces.' },
      { icon: 'ğŸ”ï¸', text: 'Les montagnes que tu as escaladÃ©es prouvent ta rÃ©silience. Tu peux grimper celle-ci aussi.' },
      { icon: 'ğŸ’', text: 'Tu es prÃ©cieux(se), unique, irremplaÃ§able. Le monde a besoin de ta lumiÃ¨re.' },
      { icon: 'ğŸŒ¸', text: 'Fleuris Ã  ton propre rythme. Comparaison est le vol de la joie.' },
      { icon: 'ğŸ¦…', text: 'Ã‰lÃ¨ve-toi au-dessus des pensÃ©es qui te limitent. Tu es capable de tellement plus.' },
      { icon: 'ğŸ­', text: 'EnlÃ¨ve le masque. Ta vraie nature est magnifique et mÃ©rite d\'Ãªtre vue.' },
      { icon: 'ğŸŒŠ', text: 'Comme l\'ocÃ©an, tu as des profondeurs que peu connaissent. C\'est ta richesse.' },
      { icon: 'â­', text: 'MÃªme les Ã©toiles ont besoin de l\'obscuritÃ© pour briller. Tes difficultÃ©s rÃ©vÃ¨lent ta force.' }
    ];
    
    const oracle = {
      currentCard: null,
      history: [],
      
      init() {
        this.loadHistory();
        this.setDailyMessage();
        this.updateHistoryUI();
        this.showProLimitInfo();
      },
      
      checkProStatus() {
        try {
          const proStatus = localStorage.getItem('mindflow_is_pro');
          return proStatus === 'true';
        } catch (error) {
          return false;
        }
      },
      
      showProLimitInfo() {
        const isPro = this.checkProStatus();
        if (!isPro) {
          const drawBtn = document.getElementById('drawBtn');
          const today = new Date().toISOString().split('T')[0];
          const lastDraw = localStorage.getItem('mindflow_oracle_last_draw');
          
          if (lastDraw === today) {
            drawBtn.innerHTML = 'ğŸ”’ Limite atteinte (1/jour) - <span style="color: #FFD700;">Passer PRO</span>';
            drawBtn.style.background = 'linear-gradient(135deg, #666 0%, #888 100%)';
          }
        }
      },
      
      drawCard() {
        // Check PRO status
        const isPro = this.checkProStatus();
        
        // FREE users: 1 draw per day
        if (!isPro) {
          const today = new Date().toISOString().split('T')[0];
          const lastDraw = localStorage.getItem('mindflow_oracle_last_draw');
          
          if (lastDraw === today) {
            if (confirm('ğŸ”’ Version gratuite : 1 tirage par jour.\n\nğŸ’ Passe Ã  PRO pour des tirages illimitÃ©s et un historique Ã©tendu !\n\nVoir les options PRO ?')) {
              window.location.href = 'subscription.html';
            }
            return;
          }
          
          localStorage.setItem('mindflow_oracle_last_draw', today);
        }
        
        // Random card
        const randomIndex = Math.floor(Math.random() * ORACLE_CARDS.length);
        this.currentCard = ORACLE_CARDS[randomIndex];
        
        // Reset UI
        document.getElementById('cardFront').classList.remove('revealed');
        document.getElementById('cardDescription').classList.remove('revealed');
        document.getElementById('cardBack').style.display = 'flex';
        
        // Flip animation
        const card = document.getElementById('oracleCard');
        card.classList.add('flipping');
        
        setTimeout(() => {
          this.revealCard();
          card.classList.remove('flipping');
        }, 400);
      },
      
      flipCard() {
        if (!this.currentCard) {
          this.drawCard();
        }
      },
      
      revealCard() {
        // Hide back
        document.getElementById('cardBack').style.display = 'none';
        
        // Show front
        document.getElementById('cardIcon').textContent = this.currentCard.icon;
        document.getElementById('cardTitle').textContent = this.currentCard.title;
        document.getElementById('cardCategory').textContent = this.currentCard.category;
        document.getElementById('cardFront').classList.add('revealed');
        
        // Show description
        document.getElementById('cardMessage').textContent = this.currentCard.message;
        document.getElementById('cardGuidance').textContent = this.currentCard.guidance;
        document.getElementById('cardReflection').textContent = this.currentCard.reflection;
        document.getElementById('cardDescription').classList.add('revealed');
        
        // Add to history
        this.addToHistory();
      },
      
      addToHistory() {
        const today = new Date().toISOString().split('T')[0];
        const isPro = this.checkProStatus();
        
        this.history.unshift({
          date: today,
          card: this.currentCard
        });
        
        // FREE: keep only last 5, PRO: keep 50
        const maxHistory = isPro ? 50 : 5;
        if (this.history.length > maxHistory) {
          this.history = this.history.slice(0, maxHistory);
        }
        
        this.saveHistory();
        this.updateHistoryUI();
      },
      
      setDailyMessage() {
        const randomIndex = Math.floor(Math.random() * PERSONAL_MESSAGES.length);
        const message = PERSONAL_MESSAGES[randomIndex];
        
        document.getElementById('messageIcon').textContent = message.icon;
        document.getElementById('messageText').textContent = message.text;
      },
      
      newMessage() {
        this.setDailyMessage();
      },
      
      saveHistory() {
        localStorage.setItem('mindflow_oracle_history', JSON.stringify(this.history));
      },
      
      loadHistory() {
        const saved = localStorage.getItem('mindflow_oracle_history');
        if (saved) {
          this.history = JSON.parse(saved);
        }
      },
      
      updateHistoryUI() {
        const container = document.getElementById('historyContainer');
        const isPro = this.checkProStatus();
        
        if (this.history.length === 0) {
          container.innerHTML = '<div class="no-history">Aucun tirage pour le moment</div>';
          return;
        }
        
        let html = this.history.map(item => `
          <div class="history-item">
            <div class="history-date">${new Date(item.date).toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long' })}</div>
            <div class="history-card-name">${item.card.icon} ${item.card.title}</div>
            <div style="font-size: 12px; opacity: 0.8;">${item.card.category}</div>
          </div>
        `).join('');
        
        if (!isPro && this.history.length >= 5) {
          html += `
            <div style="text-align: center; padding: 20px; background: rgba(255,215,0,0.1); border-radius: 12px; margin-top: 10px;">
              <div style="font-size: 14px; color: rgba(255,255,255,0.9); margin-bottom: 10px;">
                ğŸ”’ Historique limitÃ© Ã  5 tirages en version gratuite
              </div>
              <button onclick="window.location.href='subscription.html'" style="background: #FFD700; color: #333; border: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; cursor: pointer;">
                ğŸ’ DÃ©bloquer 50 tirages d'historique
              </button>
            </div>
          `;
        }
        
        container.innerHTML = html;
      }
    };
    
    document.addEventListener('DOMContentLoaded', () => {
      oracle.init();
    });
  </script>
</body>
</html>
